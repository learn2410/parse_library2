# Парсер книг с сайта tululu.org

Пограмма позволяет скачать локально книги из онлайн библиотеки TULULU (сайт https://tululu.org )

## Запуск скрипта

Для запуска скрипта у вас уже должен быть установлен Python 3.

- Скачайте код
- Установите зависимости командой `pip install -r requirements.txt`
- Запустите скрипт командой:
```
python parce_tululu_category.py [аргументы]
```

примечание: скрипт можно запускать многократно,  при этом вновь скачанные книги (в зависимости от аргументов) будут добавлены к старым
при уловии неизменности путей папки назначения и файла описаний  

## Аргументы

Скачиваются книги из рубрики "научная фантастика" (https://tululu.org/l74/), сама рубрика имеет страничную организацию по 25 книг на странице. 
Программа закачивает все книги с указанных страниц

- ` --start_page XXX` -XXX это начальный номер диапазона страниц (по умолчанию 1)
- ` --end_page YYY` - YYY это конечный номер диапазона страниц (по умолчанию последняя страница рубрики)
- ` --skip_txt` - блокирует закачку текстов книг
- ` --skip_imgs` - блокирует закачку обложек книг
- ` --dest_folder  PATH ` -путь к корневой папке скачиваемых книг (по умолчанию "library")
- ` --json_path  FILEPATH ` -путь к файлу с описаниями книг (по умолчанию "library\catalog.json")


примеры:

- `python parce_tululu_category.py`    
если параметры не указаны - скачаются книги со страниц рубрики начиная с первой и заканчивая последней 

- `python parce_tululu_category.py --start_page 20 --end_page 30`  
скачаются книги со страниц рубрики от 20 до 30

- `python parce_tululu_category.py --start_page 15`  
скачается книга со страницы рубрики с 15 до последней 

- `python parce_tululu_category.py --end_page 700 --skip_imgs`    
скачается книга со страницы рубрики с 700 до последней, обложки скачаны не будут
 
- `python parce_tululu_category.py --dest_folder my/lib`    
скачаются все книги, в папке с программой создастся подпапка my\lib, в этой подпапке -папка books(для скачанных книг) и папка images(для скачанных обложек),
 кроме того в эту папку (my\lib) запишется файл с описаяниями книг (по умолчанию "catalog.json") 
  примечание: наклон черточек в пути можно ставить в любую сторону -программа исправит
 
- `python parce_tululu_category.py --json_path xxx/myfile.json`
скачаются все книги в папку по умолчанию (library), а файл с описаниями будет записан в подпапку xxx  c именем файла myfile.json
  примечание: тип файла должен быть "json" иначе расширение ".json" добавляется принудительно, 
  наклон черточек в пути можно ставить в любую сторону -программа исправит 
    
 

## Результат

в результате работы скрипта в папке с программой создадутся следующие подкаталоги (если их еще нет):
- корневая папка библиотеки 
- library - папка с файлом описаний книг 'catalog.json' в формате JSON 
- library\books - папка текстами скачанных книг
- library\images - папка с изображениями обложек книг

примечание:  
 если книга не может быть скачана -она пропускается
 
 
## Цели проекта

Изучение библиотек парсинга HTML страниц

Код написан в учебных целях — это урок в курсе по Python и веб-разработке на сайте [Devman](https://dvmn.org).

